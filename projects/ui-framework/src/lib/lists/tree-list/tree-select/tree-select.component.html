<b-form-element-label *ngIf="label && !hideLabelOnFocus"
                      class="bfe-label"
                      [label]="label"
                      [description]="description"
                      [fieldId]="id">
</b-form-element-label>

<b-tree-list-panel [type]="type"
                   [mode]="mode"
                   [list]="list"
                   [value]="value"
                   [valueDefault]="valueDefault"
                   [viewFilter]="viewFilter"
                   [keyMap]="keyMap"
                   [itemsMap]="itemsMap"
                   [valueSeparatorChar]="valueSeparatorChar"
                   [maxHeightItems]="maxHeightItems"
                   [startCollapsed]="startCollapsed"
                   [panelClass]="panelClass"
                   [panelPosition]="panelPosition"
                   [readonly]="readonly"
                   [disabled]="disabled"
                   [listActions]="listActions"
                   [hasArrow]="false"
                   (changed)="onSelectChange($event)"
                   (apply)="onApply()"
                   (cancel)="onCancel()"
                   (opened)="onPanelOpen($event)"
                   (closed)="onPanelClose()">

  <div class="bfe-wrap has-suffix"
       [ngClass]="{
          'has-prefix': false,
          focused: panelOpen
        }"
       (click)="openPanel()">

    <div #input
         [id]="id"
         class="bfe-input"
         tabindex="0"
         (focus)="openPanel()"
         [b-truncate-tooltip]="1"
         [expectChanges]="true"
         [trustCssVars]="true"
         [type]="tooltipType"
         [tooltipClass]="tooltipClass"
         [attr.data-placeholder]="!displayValue ? (hideLabelOnFocus ?label : placeholder) : null"
         [text]="displayValue"></div>

    <div class="bfe-suffix">
      <span *ngIf="displayValueCount"
            class="total-values">
        ({{displayValueCount}})
      </span>
      <span class="select-chevron b-icon-medium"
            [ngClass]="{'b-icon-chevron-down': !panelOpen, 'b-icon-chevron-up': panelOpen}"></span>
    </div>

  </div>

  <ng-content footerAction
              select="[footerAction],[footerActionRight]"></ng-content>
</b-tree-list-panel>

<p b-input-message
   *ngIf="hintMessage || warnMessage || errorMessage"
   [hintMessage]="hintMessage"
   [warnMessage]="warnMessage"
   [errorMessage]="errorMessage"
   [disabled]="disabled"></p>
