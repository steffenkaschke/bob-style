@import '../../style/colors.scss';
@import '../../style/shapes.scss';
@import '../../style/typography.scss';
@import '../../overlay/overlay.scss';

:host {
  display: inline-block;
  .menu-trigger-wrapper {
    display: inline-block;
    &.disabled {
      pointer-events: none;
    }
  }
}

::ng-deep {
  .cdk-overlay-container {
    .mat-menu-panel {
      b-menu {
        display: none;
      }
      @include OverlayPanel();
      @include BodyFont;
      min-width: 0;
      .mat-menu-content {
        position: relative;
        overflow: auto;
        max-height: 500px;
        padding: 0;
        .mat-menu-item-submenu-trigger {
          padding: 0;
        }
        .mat-menu-item {
          line-height: 36px;
          height: 36px;
          padding: 0 30px 0 12px;
          display: flex;
          align-content: space-between;
          align-items: center;
          &.disabled {
            color: $grey-600;
            pointer-events: none;
          }
          &.mat-menu-item-submenu-trigger::after {
            position: absolute;
            right: 12px;
            top: auto;
            transform: none;
            left: auto;
            bottom: auto;
          }
        }
      }
    }

    > .cdk-overlay-connected-position-bounding-box {
      .mat-menu-panel {
        @include OverlayPointerHolders();

        &.mat-menu-below {
          @include OverlayPositionBounding('below');
        }

        // opens above
        &.mat-menu-above {
          @include OverlayPositionBounding('above');
        }

        // opens to the right - default
        &.mat-menu-after {
          @include OverlayPositionBounding('after');
        }

        // opens to the left {
        &.mat-menu-before {
          @include OverlayPositionBounding('before');
        }
      }
    }
    > .cdk-overlay-connected-position-bounding-box ~ .cdk-overlay-connected-position-bounding-box {
      .mat-menu-panel {
        &:before, &:after {
          content: none;
        }
      }
    }
  }
}
